{
  "data": {
    "id": 848,
    "application_id": "13",
    "application_name": "kaygaaf/videogen:production-api",
    "build_server_id": null,
    "commit": "365156ccc2beafbc53a0d5bcdb3729cbe5e85d05",
    "commit_message": "fix(api): define settings at module scope; align health endpoints",
    "current_process_id": "677577",
    "deployment_url": "/project/lo4o8o0c4c4gwckw4g0kg8kg/environment/ysckcg8g4wwgg8sokgwgwcw4/application/mowkskw8s8wswo8cs88w04oo/deployment/pssww08w8g8o04sss08wksgs",
    "deployment_uuid": "pssww08w8g8o04sss08wksgs",
    "destination_id": "0",
    "finished_at": null,
    "force_rebuild": false,
    "git_type": null,
    "horizon_job_id": "4ce2dc72-0a4c-472a-b99f-141c09a77e25",
    "horizon_job_worker": "43990cb86be6",
    "is_api": true,
    "is_webhook": false,
    "logs": "[{\"command\":null,\"output\":\"Starting deployment of kaygaaf\\/videogen:main to localhost.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:14.647279Z\",\"hidden\":false,\"batch\":1},{\"command\":null,\"output\":\"Preparing container with helper image: ghcr.io\\/coollabsio\\/coolify-helper:1.0.12\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:15.460958Z\",\"hidden\":false,\"batch\":1,\"order\":2},{\"command\":\"docker stop -t 30 pssww08w8g8o04sss08wksgs\",\"output\":\"Error response from daemon: No such container: pssww08w8g8o04sss08wksgs\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:15.938526Z\",\"hidden\":true,\"batch\":1,\"order\":3},{\"command\":\"docker run -d --network coolify --name pssww08w8g8o04sss08wksgs  --rm -v \\/var\\/run\\/docker.sock:\\/var\\/run\\/docker.sock ghcr.io\\/coollabsio\\/coolify-helper:1.0.12\",\"output\":\"cd61f5278789302e28b11f94e64c24dd66547b018d9afeb3e9446b066581c75e\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:16.454403Z\",\"hidden\":true,\"batch\":2,\"order\":4},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'GIT_SSH_COMMAND=\\\"ssh -o ConnectTimeout=30 -p 22 -o Port=22 -o LogLevel=ERROR -o StrictHostKeyChecking=no -o UserKnownHostsFile=\\/dev\\/null\\\" git ls-remote https:\\/\\/x-access-token:<REDACTED>@github.com\\/kaygaaf\\/videogen.git refs\\/heads\\/main'\",\"output\":\"365156ccc2beafbc53a0d5bcdb3729cbe5e85d05\\trefs\\/heads\\/main\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:19.015117Z\",\"hidden\":true,\"batch\":3,\"order\":5},{\"command\":null,\"output\":\"----------------------------------------\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:19.265578Z\",\"hidden\":false,\"batch\":1,\"order\":6},{\"command\":null,\"output\":\"Importing kaygaaf\\/videogen:main (commit sha 365156ccc2beafbc53a0d5bcdb3729cbe5e85d05) to \\/artifacts\\/pssww08w8g8o04sss08wksgs.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:19.276220Z\",\"hidden\":false,\"batch\":1,\"order\":7},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'git clone --depth=1 --recurse-submodules --shallow-submodules -b 'main' 'https:\\/\\/x-access-token:<REDACTED>@github.com\\/kaygaaf\\/videogen.git' '\\/artifacts\\/pssww08w8g8o04sss08wksgs' && cd '\\/artifacts\\/pssww08w8g8o04sss08wksgs' && if [ -f .gitmodules ]; then git submodule sync && GIT_SSH_COMMAND=\\\"ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=\\/dev\\/null\\\" git submodule update --init --recursive --depth=1; fi && cd '\\/artifacts\\/pssww08w8g8o04sss08wksgs' && GIT_SSH_COMMAND=\\\"ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=\\/dev\\/null\\\" git lfs pull'\",\"output\":\"Cloning into '\\/artifacts\\/pssww08w8g8o04sss08wksgs'...\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:19.789503Z\",\"hidden\":true,\"batch\":4,\"order\":8},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'cd \\/artifacts\\/pssww08w8g8o04sss08wksgs && git log -1 365156ccc2beafbc53a0d5bcdb3729cbe5e85d05 --pretty=%B'\",\"output\":\"fix(api): define settings at module scope; align health endpoints\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:23.503188Z\",\"hidden\":true,\"batch\":6,\"order\":9},{\"command\":\"docker images -q mowkskw8s8wswo8cs88w04oo:365156ccc2beafbc53a0d5bcdb3729cbe5e85d05 2>\\/dev\\/null\",\"output\":\"25930ece0050\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:23.990326Z\",\"hidden\":true,\"batch\":7,\"order\":10},{\"command\":null,\"output\":\"No configuration changed & image found (mowkskw8s8wswo8cs88w04oo:365156ccc2beafbc53a0d5bcdb3729cbe5e85d05) with the same Git Commit SHA. Build step skipped.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:24.001382Z\",\"hidden\":false,\"batch\":1,\"order\":11},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'cat \\/artifacts\\/pssww08w8g8o04sss08wksgs\\/Dockerfile'\",\"output\":\"# Unified Dockerfile for VidAI - runs API and Worker together\\nFROM python:3.11-slim\\n\\nENV PYTHONDONTWRITEBYTECODE=1 \\\\\\n    PYTHONUNBUFFERED=1 \\\\\\n    PIP_NO_CACHE_DIR=1 \\\\\\n    PIP_DISABLE_PIP_VERSION_CHECK=1 \\\\\\n    PORT=8000\\n\\n# Install system dependencies\\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\\n    ffmpeg \\\\\\n    curl \\\\\\n    fonts-dejavu-core \\\\\\n    fonts-roboto \\\\\\n    fontconfig \\\\\\n    supervisor \\\\\\n    && fc-cache -f \\\\\\n    && rm -rf \\/var\\/lib\\/apt\\/lists\\/*\\n\\nWORKDIR \\/app\\n\\n# Copy requirements and install\\nCOPY requirements.txt .\\nRUN pip install --no-cache-dir -r requirements.txt\\n\\n# Copy application\\nCOPY app\\/ .\\/app\\/\\nCOPY scripts\\/ .\\/scripts\\/\\nCOPY assets\\/ .\\/assets\\/\\nCOPY alembic\\/ .\\/alembic\\/\\nCOPY alembic.ini .\\n\\nRUN chmod +x .\\/scripts\\/run_migrations.sh && mkdir -p \\/data\\/jobs\\n\\n# Simple start script instead of supervisor for faster startup\\nRUN echo '#!\\/bin\\/bash\\\\n\\\\\\n.\\/scripts\\/run_migrations.sh\\\\n\\\\\\necho \\\"Starting API server...\\\"\\\\n\\\\\\nuvicorn app.main:app --host 0.0.0.0 --port 8000 &\\\\n\\\\\\nAPI_PID=$!\\\\n\\\\\\nsleep 5\\\\n\\\\\\necho \\\"Starting Celery worker...\\\"\\\\n\\\\\\ncelery -A app.core.celery_app worker --loglevel=info --concurrency=1 &\\\\n\\\\\\nWORKER_PID=$!\\\\n\\\\\\nwait $API_PID $WORKER_PID' > \\/app\\/start.sh && chmod +x \\/app\\/start.sh\\n\\nEXPOSE 8000\\n\\nHEALTHCHECK --interval=60s --timeout=30s --start-period=60s --retries=5 \\\\\\n    CMD curl -f http:\\/\\/localhost:8000\\/health || exit 1\\n\\nCMD [\\\"\\/app\\/start.sh\\\"]\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:25.379493Z\",\"hidden\":true,\"batch\":9,\"order\":12},{\"command\":null,\"output\":\"Creating .env file with runtime variables for container.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:25.992902Z\",\"hidden\":true,\"batch\":1,\"order\":13},{\"command\":null,\"output\":\"----------------------------------------\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:27.034304Z\",\"hidden\":false,\"batch\":1,\"order\":14},{\"command\":null,\"output\":\"Rolling update started.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:27.044368Z\",\"hidden\":false,\"batch\":1,\"order\":15},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'COOLIFY_URL=https:\\/\\/api.renderowl.com COOLIFY_FQDN=api.renderowl.com COOLIFY_BRANCH=main COOLIFY_RESOURCE_UUID=mowkskw8s8wswo8cs88w04oo  docker compose --project-name mowkskw8s8wswo8cs88w04oo --project-directory \\/artifacts\\/pssww08w8g8o04sss08wksgs -f \\/artifacts\\/pssww08w8g8o04sss08wksgs\\/docker-compose.yaml up --build -d'\",\"output\":\"time=\\\"2026-02-24T00:15:28Z\\\" level=warning msg=\\\"Found orphan containers ([mowkskw8s8wswo8cs88w04oo-001248051184]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.\\\"\\n Container mowkskw8s8wswo8cs88w04oo-001512261735  Creating\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:28.187456Z\",\"hidden\":true,\"batch\":14,\"order\":16},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'COOLIFY_URL=https:\\/\\/api.renderowl.com COOLIFY_FQDN=api.renderowl.com COOLIFY_BRANCH=main COOLIFY_RESOURCE_UUID=mowkskw8s8wswo8cs88w04oo  docker compose --project-name mowkskw8s8wswo8cs88w04oo --project-directory \\/artifacts\\/pssww08w8g8o04sss08wksgs -f \\/artifacts\\/pssww08w8g8o04sss08wksgs\\/docker-compose.yaml up --build -d'\",\"output\":\"mowkskw8s8wswo8cs88w04oo-001512261735 Your kernel does not support memory swappiness capabilities or the cgroup is not mounted. Memory swappiness discarded.\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:28.269203Z\",\"hidden\":true,\"batch\":14,\"order\":17},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'COOLIFY_URL=https:\\/\\/api.renderowl.com COOLIFY_FQDN=api.renderowl.com COOLIFY_BRANCH=main COOLIFY_RESOURCE_UUID=mowkskw8s8wswo8cs88w04oo  docker compose --project-name mowkskw8s8wswo8cs88w04oo --project-directory \\/artifacts\\/pssww08w8g8o04sss08wksgs -f \\/artifacts\\/pssww08w8g8o04sss08wksgs\\/docker-compose.yaml up --build -d'\",\"output\":\"Container mowkskw8s8wswo8cs88w04oo-001512261735  Created\\n Container mowkskw8s8wswo8cs88w04oo-001512261735  Starting\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:28.273215Z\",\"hidden\":true,\"batch\":14,\"order\":18},{\"command\":\"docker exec pssww08w8g8o04sss08wksgs bash -c 'COOLIFY_URL=https:\\/\\/api.renderowl.com COOLIFY_FQDN=api.renderowl.com COOLIFY_BRANCH=main COOLIFY_RESOURCE_UUID=mowkskw8s8wswo8cs88w04oo  docker compose --project-name mowkskw8s8wswo8cs88w04oo --project-directory \\/artifacts\\/pssww08w8g8o04sss08wksgs -f \\/artifacts\\/pssww08w8g8o04sss08wksgs\\/docker-compose.yaml up --build -d'\",\"output\":\"Container mowkskw8s8wswo8cs88w04oo-001512261735  Started\",\"type\":\"stderr\",\"timestamp\":\"2026-02-24T00:15:28.517873Z\",\"hidden\":true,\"batch\":14,\"order\":19},{\"command\":null,\"output\":\"New container started.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:28.541297Z\",\"hidden\":false,\"batch\":1,\"order\":20},{\"command\":null,\"output\":\"Custom healthcheck found in Dockerfile.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:28.547395Z\",\"hidden\":false,\"batch\":1,\"order\":21},{\"command\":null,\"output\":\"Waiting for healthcheck to pass on the new container.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:28.556180Z\",\"hidden\":false,\"batch\":1,\"order\":22},{\"command\":null,\"output\":\"Waiting for the start period (60 seconds) before starting healthcheck.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:15:28.566282Z\",\"hidden\":false,\"batch\":1,\"order\":23},{\"command\":\"docker inspect --format='{{json .State.Health.Status}}' mowkskw8s8wswo8cs88w04oo-001512261735\",\"output\":\"\\\"healthy\\\"\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.321868Z\",\"hidden\":true,\"batch\":15,\"order\":24},{\"command\":\"docker inspect --format='{{json .State.Health.Log}}' mowkskw8s8wswo8cs88w04oo-001512261735\",\"output\":\"[{\\\"Start\\\":\\\"2026-02-24T00:15:33.517023826Z\\\",\\\"End\\\":\\\"2026-02-24T00:15:35.79925309Z\\\",\\\"ExitCode\\\":0,\\\"Output\\\":\\\"  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\\\n                                 Dload  Upload   Total   Spent    Left  Speed\\\\n\\\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\\\r  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0\\\\r  0   413    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0\\\\r100   413  100   413    0     0    189      0  0:00:02  0:00:02 --:--:--   189\\\\n{\\\\\\\"status\\\\\\\":\\\\\\\"healthy\\\\\\\",\\\\\\\"timestamp\\\\\\\":\\\\\\\"2026-02-24T00:15:35.793986+00:00\\\\\\\",\\\\\\\"response_time_ms\\\\\\\":2173.52,\\\\\\\"version\\\\\\\":\\\\\\\"1.1.0\\\\\\\",\\\\\\\"checks\\\\\\\":{\\\\\\\"database\\\\\\\":{\\\\\\\"status\\\\\\\":\\\\\\\"healthy\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"postgresql\\\\\\\",\\\\\\\"response_time_ms\\\\\\\":79.8},\\\\\\\"redis\\\\\\\":{\\\\\\\"status\\\\\\\":\\\\\\\"healthy\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"redis\\\\\\\",\\\\\\\"ping\\\\\\\":\\\\\\\"pong\\\\\\\"},\\\\\\\"celery_worker\\\\\\\":{\\\\\\\"status\\\\\\\":\\\\\\\"healthy\\\\\\\",\\\\\\\"workers_connected\\\\\\\":1},\\\\\\\"storage\\\\\\\":{\\\\\\\"status\\\\\\\":\\\\\\\"healthy\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"\\/data\\/jobs\\\\\\\",\\\\\\\"free_space_gb\\\\\\\":95.69,\\\\\\\"total_space_gb\\\\\\\":149.92}}}\\\"}]\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.801295Z\",\"hidden\":true,\"batch\":15,\"order\":25},{\"command\":null,\"output\":\"Attempt 1 of 5 | Healthcheck status: \\\"healthy\\\"\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.807214Z\",\"hidden\":false,\"batch\":1,\"order\":26},{\"command\":null,\"output\":\"Healthcheck logs:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\n                                 Dload  Upload   Total   Spent    Left  Speed\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0\\r  0   413    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0\\r100   413  100   413    0     0    189      0  0:00:02  0:00:02 --:--:--   189\\n{\\\"status\\\":\\\"healthy\\\",\\\"timestamp\\\":\\\"2026-02-24T00:15:35.793986+00:00\\\",\\\"response_time_ms\\\":2173.52,\\\"version\\\":\\\"1.1.0\\\",\\\"checks\\\":{\\\"database\\\":{\\\"status\\\":\\\"healthy\\\",\\\"type\\\":\\\"postgresql\\\",\\\"response_time_ms\\\":79.8},\\\"redis\\\":{\\\"status\\\":\\\"healthy\\\",\\\"type\\\":\\\"redis\\\",\\\"ping\\\":\\\"pong\\\"},\\\"celery_worker\\\":{\\\"status\\\":\\\"healthy\\\",\\\"workers_connected\\\":1},\\\"storage\\\":{\\\"status\\\":\\\"healthy\\\",\\\"path\\\":\\\"\\/data\\/jobs\\\",\\\"free_space_gb\\\":95.69,\\\"total_space_gb\\\":149.92}}} | Return code: 0\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.816869Z\",\"hidden\":false,\"batch\":1,\"order\":27},{\"command\":null,\"output\":\"New container is healthy.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.830052Z\",\"hidden\":false,\"batch\":1,\"order\":28},{\"command\":null,\"output\":\"Removing old containers.\",\"type\":\"stdout\",\"timestamp\":\"2026-02-24T00:16:29.840040Z\",\"hidden\":false,\"batch\":1,\"order\":29}]",
    "only_this_server": false,
    "pull_request_id": 0,
    "restart_only": true,
    "rollback": false,
    "server_id": 0,
    "server_name": "localhost",
    "status": "in_progress",
    "created_at": "2026-02-24T00:13:02.000000Z",
    "updated_at": "2026-02-24T00:16:30.000000Z"
  },
  "_actions": [
    {
      "tool": "deployment",
      "args": {
        "action": "cancel"
      },
      "hint": "Cancel"
    }
  ]
}
