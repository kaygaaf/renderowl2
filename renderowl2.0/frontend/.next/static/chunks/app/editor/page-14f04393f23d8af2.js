(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{35299:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},50639:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v,dynamic:()=>b});var r=t(95155),a=t(12115),l=t(35299),i=t(20063),n=t(52619),d=t.n(n),c=t(12444),o=t(3998),u=t(65142),m=t(90960),x=t(65380),h=t(71847);let p=(0,h.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),f=(0,h.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function j(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),{isSignedIn:t,isLoaded:n}=(0,x.As)(),h=s.get("template"),j=s.get("id"),[b,g]=(0,a.useState)("Untitled Project"),[v,N]=(0,a.useState)(!1),[y,w]=(0,a.useState)(""),[A,k]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n&&!t&&e.push("/auth?mode=login")},[n,t,e]),(0,a.useEffect)(()=>{j?(async()=>{try{let e=await m.Yg.get(j);g(e.name||"Untitled Project")}catch(e){console.error("Failed to load project:",e),w("Failed to load project")}finally{k(!1)}})():(k(!1),h&&g({1:"YouTube Intro Project",2:"TikTok Viral Project",3:"Product Ad Project"}[h]||"New Project"))},[j,h]);let C=async()=>{N(!0),w("Saving...");try{if(j)await m.Yg.update(j,{name:b}),w("Saved!");else{let s=await m.Yg.create({name:b,description:h?"Created from template ".concat(h):"",duration:30});w("Created!"),e.push("/editor?id=".concat(s.id))}}catch(e){var s,t;console.error("Failed to save project:",e),w((null==(t=e.response)||null==(s=t.data)?void 0:s.error)||"Failed to save")}finally{N(!1),setTimeout(()=>w(""),3e3)}};return!n||A?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):t?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(c.Navbar,{}),(0,r.jsx)("main",{className:"flex-1 pt-16",children:(0,r.jsxs)("div",{className:"h-[calc(100vh-4rem)] flex",children:[(0,r.jsxs)("div",{className:"w-64 border-r bg-muted/50 flex flex-col",children:[(0,r.jsx)("div",{className:"p-4 border-b",children:(0,r.jsxs)(d(),{href:"/dashboard",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[(0,r.jsx)(p,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,r.jsx)("div",{className:"p-4 border-b",children:(0,r.jsx)("h3",{className:"font-semibold",children:"Assets"})}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83D\uDDBC️ Images"}),(0,r.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFB5 Audio"}),(0,r.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFAC Video"})]})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,r.jsxs)("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(u.p,{value:b,onChange:e=>g(e.target.value),className:"w-64 font-semibold",placeholder:"Project Name"}),y&&(0,r.jsx)("span",{className:"text-sm ".concat(y.includes("Failed")?"text-red-500":"text-green-500"),children:y})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(o.$,{variant:"outline",onClick:C,disabled:v,children:[v?(0,r.jsx)(l.A,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(f,{className:"h-4 w-4 mr-2"}),j?"Save":"Create"]}),(0,r.jsx)("button",{className:"px-3 py-1.5 text-sm border rounded hover:bg-muted",children:"Preview"}),(0,r.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded",children:"Export"})]})]}),(0,r.jsx)("div",{className:"flex-1 bg-slate-950 flex items-center justify-center p-8",children:(0,r.jsx)("div",{className:"aspect-video w-full max-w-4xl bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFAC"}),(0,r.jsx)("p",{className:"text-white/60",children:"Editor Canvas"}),(0,r.jsxs)("p",{className:"text-white/40 text-sm mt-2",children:["Template: ",h||"None"]}),j&&(0,r.jsxs)("p",{className:"text-white/40 text-sm",children:["Editing: ",j]})]})})}),(0,r.jsxs)("div",{className:"h-48 border-t bg-muted/50",children:[(0,r.jsxs)("div",{className:"h-10 border-b flex items-center px-4 gap-2",children:[(0,r.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"⏮️"}),(0,r.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"▶️"}),(0,r.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"⏭️"}),(0,r.jsx)("div",{className:"h-4 w-px bg-border mx-2"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"00:00 / 00:30"})]}),(0,r.jsxs)("div",{className:"p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Video"}),(0,r.jsx)("div",{className:"flex-1 h-8 bg-blue-600/20 rounded border border-blue-600/40"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Audio"}),(0,r.jsx)("div",{className:"flex-1 h-8 bg-purple-600/20 rounded border border-purple-600/40"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Text"}),(0,r.jsx)("div",{className:"flex-1 h-8 bg-green-600/20 rounded border border-green-600/40"})]})]})]})]}),(0,r.jsxs)("div",{className:"w-72 border-l bg-muted/50",children:[(0,r.jsx)("div",{className:"p-4 border-b",children:(0,r.jsx)("h3",{className:"font-semibold",children:"Properties"})}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Scene Duration"}),(0,r.jsx)("input",{type:"range",className:"w-full"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Transition"}),(0,r.jsxs)("select",{className:"w-full p-2 rounded border text-sm",children:[(0,r.jsx)("option",{children:"Fade"}),(0,r.jsx)("option",{children:"Slide"}),(0,r.jsx)("option",{children:"Zoom"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Background"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,r.jsx)("div",{className:"h-8 rounded bg-blue-500 cursor-pointer"}),(0,r.jsx)("div",{className:"h-8 rounded bg-purple-500 cursor-pointer"}),(0,r.jsx)("div",{className:"h-8 rounded bg-pink-500 cursor-pointer"}),(0,r.jsx)("div",{className:"h-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 cursor-pointer"})]})]})]})]})]})})]}):null}let b="force-dynamic";function g(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin text-blue-600"})})}function v(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(g,{}),children:(0,r.jsx)(j,{})})}},65142:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var r=t(95155),a=t(12115),l=t(64269);let i=a.forwardRef((e,s)=>{let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},65380:(e,s,t)=>{"use strict";t.d(s,{As:()=>o,AuthProvider:()=>c,YK:()=>u});var r=t(95155),a=t(12115),l=t(90960);let i=null,n=null;try{let e=t(5259);i=e.useUser,n=e.useAuth}catch(e){}let d=(0,a.createContext)(void 0);function c(e){let{children:s}=e,t=i?i():{user:null,isLoaded:!0},c=n?n():{isSignedIn:!1,signOut:async()=>{},getToken:async()=>null},{user:o,isLoaded:u}=t,{isSignedIn:m,signOut:x,getToken:h}=c,[p,f]=(0,a.useState)(null),[j,b]=(0,a.useState)([]),[g,v]=(0,a.useState)(!1),[N,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{h&&(0,l.JF)(h)},[h]),(0,a.useEffect)(()=>{if(o){var e;f({id:o.id,email:(null==(e=o.primaryEmailAddress)?void 0:e.emailAddress)||"",name:o.fullName||o.firstName||"User",avatar:o.imageUrl,credits:1e3,plan:"free"})}else f(null)},[o]);let w=async()=>{var e,s,t;if(!m)return void b([]);v(!0),y(null);try{let s=(null==(e=(await l.Yg.list()).data)?void 0:e.map(e=>({id:e.id,title:e.name,description:e.description,status:e.status||"draft",duration:e.duration||0,createdAt:e.created_at,updatedAt:e.updated_at,userId:e.user_id})))||[];b(s)}catch(e){console.error("Failed to fetch projects:",e),y((null==(t=e.response)||null==(s=t.data)?void 0:s.error)||"Failed to load projects")}finally{v(!1)}};(0,a.useEffect)(()=>{m?w():b([])},[m]);let A=async()=>{x&&await x(),f(null),b([])};return(0,r.jsx)(d.Provider,{value:{user:o,isLoaded:u,isSignedIn:m||!1,userData:p,projects:j,projectsLoading:g,projectsError:N,refreshProjects:w,signOut:A},children:s})}function o(){let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(){let{projects:e,projectsLoading:s,projectsError:t,refreshProjects:r}=o();return{projects:e,projectsLoading:s,projectsError:t,refreshProjects:r}}},90960:(e,s,t)=>{"use strict";t.d(s,{JF:()=>l,Yg:()=>i});let r=t(95125).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:3e4}),a=null;function l(e){a=e}r.interceptors.request.use(async e=>{if(a)try{let s=await a();s&&(e.headers.Authorization="Bearer ".concat(s))}catch(e){console.error("Failed to get auth token:",e)}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&(window.location.href="/auth?mode=login"),Promise.reject(e)});let i={list:async()=>(await r.get("/timelines")).data,get:async e=>(await r.get("/timelines/".concat(e))).data,create:async e=>(await r.post("/timelines",e)).data,update:async(e,s)=>(await r.put("/timelines/".concat(e),s)).data,delete:async e=>{await r.delete("/timelines/".concat(e))}}},93724:(e,s,t)=>{Promise.resolve().then(t.bind(t,50639))}},e=>{e.O(0,[259,822,125,444,441,255,358],()=>e(e.s=93724)),_N_E=e.O()}]);