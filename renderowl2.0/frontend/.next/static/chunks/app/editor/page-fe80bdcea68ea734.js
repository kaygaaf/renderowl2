(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{31373:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var s=a(95155),l=a(12115),r=a(20063),i=a(52619),n=a.n(i),o=a(12444),c=a(3998),d=a(65142),u=a(88695),m=a(23954);let x=e=>{let{clip:t,durationInFrames:a,fps:r}=e,i=(0,m.UC)(),{width:n,height:o}=(0,m.Bk)(),c=Math.floor(t.startTime*r),d=Math.floor(t.endTime*r)-c,u=(0,l.useMemo)(()=>{var e,a,s;let l=i-c,r=Math.min(15,.2*d),n=Math.min(15,.2*d);if("fade"===t.transition||!t.transition){if(l<r)return(0,m.GW)(l,[0,r],[0,(null!=(e=t.opacity)?e:100)/100],{extrapolateLeft:"clamp",extrapolateRight:"clamp"});if(l>d-n)return(0,m.GW)(l,[d-n,d],[(null!=(a=t.opacity)?a:100)/100,0],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})}return(null!=(s=t.opacity)?s:100)/100},[i,c,d,t.transition,t.opacity]),x=(0,l.useMemo)(()=>{var e,a;let s=i-c;if("zoom"===t.transition){let a=Math.min(20,.3*d);if(s<a)return(0,m.GW)(s,[0,a],[.8,null!=(e=t.scale)?e:1],{easing:m.GS.out(m.GS.cubic),extrapolateLeft:"clamp",extrapolateRight:"clamp"})}return null!=(a=t.scale)?a:1},[i,c,d,t.transition,t.scale]),h=(0,l.useMemo)(()=>{var e,a,s,l;let r=i-c,o=null!=(s=null==(e=t.position)?void 0:e.x)?s:0,u=null!=(l=null==(a=t.position)?void 0:a.y)?l:0;if("slide"===t.transition){let e=Math.min(20,.3*d);r<e&&(o+=(0,m.GW)(r,[0,e],[-n,0],{easing:m.GS.out(m.GS.cubic),extrapolateLeft:"clamp",extrapolateRight:"clamp"}))}return{x:o,y:u}},[i,c,d,t.transition,t.position,n]),p="translate(".concat(h.x,"px, ").concat(h.y,"px) scale(").concat(x,")");return"video"===t.assetType&&t.assetUrl?(0,s.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:u,transform:p,transformOrigin:"center center"},children:(0,s.jsx)(m.Ce,{src:t.assetUrl,startFrom:0,style:{width:"100%",height:"100%",objectFit:"cover"}})}):"image"===t.assetType&&t.assetUrl?(0,s.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:u,transform:p,transformOrigin:"center center"},children:(0,s.jsx)(m.E9,{src:t.assetUrl,style:{width:"100%",height:"100%",objectFit:"cover"}})}):"text"===t.assetType&&t.textContent?(0,s.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:u,transform:p},children:(0,s.jsx)("div",{style:{padding:"20px 40px",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"8px",color:"white",fontSize:.08*Math.min(n,o),fontWeight:"bold",textAlign:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",maxWidth:"80%"},children:t.textContent})}):null},h=e=>{let{track:t,durationInFrames:a,fps:l}=e;return t.muted&&"audio"===t.type?null:(0,s.jsx)(s.Fragment,{children:t.clips.map(e=>{let r=Math.floor(e.startTime*l),i=Math.floor(e.endTime*l)-r;return r>=a?null:(0,s.jsx)(m.gd,{from:r,durationInFrames:Math.min(i,a-r),children:(0,s.jsx)(x,{clip:e,track:t,durationInFrames:i,fps:l})},e.id)})})},p=e=>{let{timeline:t}=e,{width:a,height:l}=(0,m.Bk)();if(!t||!t.tracks||0===t.tracks.length)return(0,s.jsx)(m.H1,{style:{backgroundColor:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)("div",{style:{color:"white",fontSize:24,opacity:.5},children:"No content to preview"})});let r=[...t.tracks].sort((e,t)=>e.order-t.order),i=r.filter(e=>"video"===e.type||"audio"===e.type),n=r.filter(e=>"text"===e.type);return(0,s.jsxs)(m.H1,{style:{backgroundColor:"#000000"},children:[(0,s.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"}}),i.map(e=>(0,s.jsx)(h,{track:e,durationInFrames:t.duration*t.fps,fps:t.fps},e.id)),n.map(e=>(0,s.jsx)(h,{track:e,durationInFrames:t.duration*t.fps,fps:t.fps},e.id)),(0,s.jsx)(f,{fps:t.fps})]})},f=e=>{let{fps:t}=e,a=(0,m.UC)(),l=Math.floor(a/t),r=Math.floor(l/60),i="".concat(r.toString().padStart(2,"0"),":").concat((l%60).toString().padStart(2,"0"),":").concat((a%t).toString().padStart(2,"0"));return(0,s.jsx)("div",{style:{position:"absolute",bottom:20,right:20,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"#00ff00",padding:"4px 12px",borderRadius:"4px",fontFamily:"monospace",fontSize:14,fontWeight:"bold"},children:i})},g=()=>{let e=(0,m.UC)(),{fps:t,durationInFrames:a}=(0,m.Bk)(),l=(0,m.GW)(e,[0,.1*a,.9*a,a],[0,1,1,0],{extrapolateLeft:"clamp",extrapolateRight:"clamp"});return(0,s.jsxs)(m.H1,{style:{backgroundColor:"#0f172a",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:l},children:[(0,s.jsx)("div",{style:{width:120,height:120,borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:60,marginBottom:24},children:"\uD83E\uDD89"}),(0,s.jsx)("h1",{style:{color:"white",fontSize:48,fontWeight:"bold",marginBottom:16},children:"RenderOwl"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:24},children:"Your video is loading..."})]})};var b=a(12932),j=a(53511),v=a(85921),N=a(62332),y=a(2068),w=a(35130),k=a(21397),C=a(34582),S=a(64269);let F=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsxs)(C.bL,{ref:t,className:(0,S.cn)("relative flex w-full touch-none select-none items-center",a),...l,children:[(0,s.jsx)(C.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-slate-800",children:(0,s.jsx)(C.Q6,{className:"absolute h-full bg-blue-600"})}),(0,s.jsx)(C.zi,{className:"block h-4 w-4 rounded-full border-2 border-blue-600 bg-white ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});F.displayName=C.bL.displayName;let A=e=>{let{timeline:t,className:a="",onPlayheadChange:r,externalPlayhead:i,isPlaying:n,onPlayingChange:o}=e,d=(0,l.useRef)(null),[m,x]=(0,l.useState)(!1),[h,f]=(0,l.useState)(0),[C,S]=(0,l.useState)(1),[A,P]=(0,l.useState)(!1),[T,M]=(0,l.useState)(1),I=(null==t?void 0:t.duration)?Math.ceil(t.duration*(t.fps||30)):300,D=(null==t?void 0:t.fps)||30,z=(null==t?void 0:t.width)||1920,E=(null==t?void 0:t.height)||1080;(0,l.useEffect)(()=>{void 0!==i&&d.current&&d.current.seekTo(i)},[i]),(0,l.useEffect)(()=>{if(void 0!==n&&n!==m){var e,t;n?null==(e=d.current)||e.play():null==(t=d.current)||t.pause()}},[n,m]);let R=(0,l.useCallback)(()=>{var e;null==(e=d.current)||e.play(),x(!0),null==o||o(!0)},[o]),U=(0,l.useCallback)(()=>{var e;null==(e=d.current)||e.pause(),x(!1),null==o||o(!1)},[o]),G=(0,l.useCallback)(()=>{m?U():R()},[m,R,U]),O=(0,l.useCallback)(e=>{var t;null==(t=d.current)||t.seekTo(e),f(e),null==r||r(e)},[r]);(0,l.useCallback)(e=>{f(e),null==r||r(e)},[r]);let B=(0,l.useCallback)(()=>{O(Math.max(0,h-D))},[h,D,O]),W=(0,l.useCallback)(()=>{O(Math.min(I-1,h+D))},[h,I,D,O]),L=(0,l.useCallback)(e=>{S(e[0]/100)},[]),_=(0,l.useCallback)(()=>{P(!A)},[A]),Y=(0,l.useCallback)(()=>{var e;null==(e=d.current)||e.requestFullscreen()},[]),$=e=>{let t=e/D,a=Math.floor(t/60),s=Math.floor(t%60),l=e%D;return"".concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat(l.toString().padStart(2,"0"))},V=$(h),H=$(I);return(0,s.jsxs)("div",{className:"flex flex-col bg-slate-950 rounded-lg overflow-hidden ".concat(a),children:[(0,s.jsx)("div",{className:"relative flex-1 min-h-0 bg-black",children:(0,s.jsx)(u.ai,{ref:d,component:t?p:g,inputProps:{timeline:t},durationInFrames:I,fps:D,compositionWidth:z,compositionHeight:E,style:{width:"100%",height:"100%"},controls:!1,autoPlay:!1,loop:!1,allowFullscreen:!0,clickToPlay:!0,doubleClickToFullscreen:!0,spaceKeyToPlayOrPause:!0})}),(0,s.jsxs)("div",{className:"bg-slate-900 border-t border-slate-800 p-3",children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)(F,{value:[h],max:I-1,step:1,onValueChange:e=>O(e[0]),className:"w-full cursor-pointer"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:B,children:(0,s.jsx)(b.A,{className:"h-4 w-4"})}),(0,s.jsx)(c.$,{variant:"default",size:"icon",className:"h-10 w-10 bg-blue-600 hover:bg-blue-700",onClick:G,children:m?(0,s.jsx)(j.A,{className:"h-5 w-5"}):(0,s.jsx)(v.A,{className:"h-5 w-5"})}),(0,s.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:W,children:(0,s.jsx)(N.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"h-6 w-px bg-slate-700 mx-2"}),(0,s.jsxs)("div",{className:"text-sm font-mono text-slate-300",children:[(0,s.jsx)("span",{className:"text-white",children:V}),(0,s.jsxs)("span",{className:"text-slate-500",children:[" / ",H]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:_,children:A||0===C?(0,s.jsx)(y.A,{className:"h-4 w-4"}):(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsx)(F,{value:[A?0:100*C],max:100,step:1,onValueChange:L,className:"w-20"})]}),(0,s.jsx)("div",{className:"h-6 w-px bg-slate-700 mx-2"}),(0,s.jsxs)("select",{value:T,onChange:e=>M(Number(e.target.value)),className:"bg-slate-800 text-slate-300 text-xs rounded px-2 py-1 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:.25,children:"0.25x"}),(0,s.jsx)("option",{value:.5,children:"0.5x"}),(0,s.jsx)("option",{value:.75,children:"0.75x"}),(0,s.jsx)("option",{value:1,children:"1x"}),(0,s.jsx)("option",{value:1.25,children:"1.25x"}),(0,s.jsx)("option",{value:1.5,children:"1.5x"}),(0,s.jsx)("option",{value:2,children:"2x"})]}),(0,s.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:Y,children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})]})]})]})]})};var P=a(90960),T=a(65380),M=a(35299),I=a(35626),D=a(46046),z=a(27209);function E(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),{isSignedIn:a,isLoaded:i}=(0,T.As)(),u=t.get("template"),m=t.get("id"),[x,h]=(0,l.useState)("Untitled Project"),[p,f]=(0,l.useState)(!1),[g,b]=(0,l.useState)(""),[N,y]=(0,l.useState)(!0),[w,k]=(0,l.useState)(null),[C,S]=(0,l.useState)([]),[F,E]=(0,l.useState)(0),[R,U]=(0,l.useState)(!1),[G,O]=(0,l.useState)(30);(0,l.useEffect)(()=>{i&&!a&&e.push("/auth?mode=login")},[i,a,e]),(0,l.useEffect)(()=>{if(m)(async()=>{try{let e=await P.Yg.get(m);h(e.name||"Untitled Project"),O(e.duration||30);let t=await P.mG.list(m),a=await Promise.all(t.map(async e=>{let t=await P.JK.list(m);return{...e,clips:t.filter(t=>t.trackId===e.id)}}));S(a);let s={id:m,name:e.name,duration:e.duration||30,fps:30,width:1920,height:1080,tracks:a};k(s)}catch(e){console.error("Failed to load project:",e),b("Failed to load project")}finally{y(!1)}})();else{y(!1),u&&h({1:"YouTube Intro Project",2:"TikTok Viral Project",3:"Product Ad Project"}[u]||"New Project");let e={id:"new",name:x,duration:30,fps:30,width:1920,height:1080,tracks:[{id:"video-1",name:"Video",type:"video",order:0,clips:[]},{id:"audio-1",name:"Audio",type:"audio",order:1,clips:[]},{id:"text-1",name:"Text",type:"text",order:2,clips:[]}]};k(e),S(e.tracks)}},[m,u]);let B=async()=>{f(!0),b("Saving...");try{if(m)await P.Yg.update(m,{name:x,duration:G}),b("Saved!");else{let t=await P.Yg.create({name:x,description:u?"Created from template ".concat(u):"",duration:G});b("Created!"),e.push("/editor?id=".concat(t.id))}}catch(e){var t,a;console.error("Failed to save project:",e),b((null==(a=e.response)||null==(t=a.data)?void 0:t.error)||"Failed to save")}finally{f(!1),setTimeout(()=>b(""),3e3)}},W=(0,l.useCallback)(e=>{E(e)},[]),L=(0,l.useCallback)(e=>{U(e)},[]),_=()=>{U(!R)},Y=async()=>{if(!m)return void b("Please save the project first");try{let e=await fetch("/api/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timelineId:m})});if(!e.ok)throw Error("Failed to start render");let t=await e.json();b("Render started! Job ID: ".concat(t.jobId))}catch(e){console.error("Failed to export:",e),b("Failed to start export")}},$=e=>{let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))};return!i||N?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(M.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):a?(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(o.Navbar,{}),(0,s.jsx)("main",{className:"flex-1 pt-16",children:(0,s.jsxs)("div",{className:"h-[calc(100vh-4rem)] flex",children:[(0,s.jsxs)("div",{className:"w-64 border-r bg-muted/50 flex flex-col",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsxs)(n(),{href:"/dashboard",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(I.A,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsx)("h3",{className:"font-semibold",children:"Assets"})}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83D\uDDBC️ Images"}),(0,s.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFB5 Audio"}),(0,s.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFAC Video"})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(d.p,{value:x,onChange:e=>h(e.target.value),className:"w-64 font-semibold",placeholder:"Project Name"}),g&&(0,s.jsx)("span",{className:"text-sm ".concat(g.includes("Failed")?"text-red-500":"text-green-500"),children:g})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(c.$,{variant:"outline",onClick:B,disabled:p,children:[p?(0,s.jsx)(M.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(D.A,{className:"h-4 w-4 mr-2"}),m?"Save":"Create"]}),(0,s.jsx)(c.$,{variant:"outline",onClick:_,children:R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.A,{className:"h-4 w-4 mr-2"})," Pause"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{className:"h-4 w-4 mr-2"})," Preview"]})}),(0,s.jsxs)(c.$,{className:"bg-gradient-to-r from-blue-600 to-purple-600",onClick:Y,children:[(0,s.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,s.jsx)("div",{className:"flex-1 bg-slate-950 flex flex-col",children:(0,s.jsx)(A,{timeline:w,className:"flex-1",onPlayheadChange:W,externalPlayhead:F,isPlaying:R,onPlayingChange:L})}),(0,s.jsxs)("div",{className:"h-48 border-t bg-muted/50",children:[(0,s.jsxs)("div",{className:"h-10 border-b flex items-center px-4 gap-2",children:[(0,s.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",onClick:()=>E(Math.max(0,F-30)),children:"⏮️"}),(0,s.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",onClick:_,children:R?"⏸️":"▶️"}),(0,s.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",onClick:()=>E(Math.min(30*G-1,F+30)),children:"⏭️"}),(0,s.jsx)("div",{className:"h-4 w-px bg-border mx-2"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground font-mono",children:[$(F/30)," / ",$(G)]})]}),(0,s.jsx)("div",{className:"p-4 space-y-2",children:C.length>0?C.map(e=>{var t;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs w-16 text-muted-foreground truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex-1 h-8 bg-slate-800 rounded border border-slate-700 relative",children:[null==(t=e.clips)?void 0:t.map(t=>(0,s.jsx)("div",{className:"absolute h-full rounded overflow-hidden",style:{left:"".concat(t.startTime/G*100,"%"),width:"".concat((t.endTime-t.startTime)/G*100,"%"),backgroundColor:"video"===e.type?"rgba(59, 130, 246, 0.4)":"audio"===e.type?"rgba(139, 92, 246, 0.4)":"rgba(34, 197, 94, 0.4)",border:"1px solid ".concat("video"===e.type?"rgba(59, 130, 246, 0.6)":"audio"===e.type?"rgba(139, 92, 246, 0.6)":"rgba(34, 197, 94, 0.6)")},children:(0,s.jsx)("span",{className:"text-xs text-white px-2 truncate block leading-7",children:"text"===t.assetType?t.textContent:t.assetType})},t.id)),(0,s.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10",style:{left:"".concat(F/30/G*100,"%")},children:(0,s.jsx)("div",{className:"absolute -top-1 -left-1.5 w-4 h-4 bg-red-500 rounded-full"})})]})]},e.id)}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Video"}),(0,s.jsx)("div",{className:"flex-1 h-8 bg-blue-600/20 rounded border border-blue-600/40"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Audio"}),(0,s.jsx)("div",{className:"flex-1 h-8 bg-purple-600/20 rounded border border-purple-600/40"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Text"}),(0,s.jsx)("div",{className:"flex-1 h-8 bg-green-600/20 rounded border border-green-600/40"})]})]})})]})]}),(0,s.jsxs)("div",{className:"w-72 border-l bg-muted/50",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsx)("h3",{className:"font-semibold",children:"Properties"})}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Duration (seconds)"}),(0,s.jsx)("input",{type:"range",min:"5",max:"300",value:G,onChange:e=>O(Number(e.target.value)),className:"w-full"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[G,"s"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"FPS"}),(0,s.jsxs)("select",{className:"w-full p-2 rounded border text-sm",value:(null==w?void 0:w.fps)||30,onChange:e=>k(t=>t?{...t,fps:Number(e.target.value)}:null),children:[(0,s.jsx)("option",{value:24,children:"24 fps (Cinematic)"}),(0,s.jsx)("option",{value:30,children:"30 fps (Standard)"}),(0,s.jsx)("option",{value:60,children:"60 fps (Smooth)"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Resolution"}),(0,s.jsxs)("select",{className:"w-full p-2 rounded border text-sm",onChange:e=>{let[t,a]=e.target.value.split("x").map(Number);k(e=>e?{...e,width:t,height:a}:null)},children:[(0,s.jsx)("option",{value:"1920x1080",children:"1920x1080 (Full HD)"}),(0,s.jsx)("option",{value:"1080x1920",children:"1080x1920 (Vertical)"}),(0,s.jsx)("option",{value:"1280x720",children:"1280x720 (HD)"}),(0,s.jsx)("option",{value:"3840x2160",children:"3840x2160 (4K)"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Transition"}),(0,s.jsxs)("select",{className:"w-full p-2 rounded border text-sm",onChange:e=>{},children:[(0,s.jsx)("option",{value:"none",children:"None"}),(0,s.jsx)("option",{value:"fade",children:"Fade"}),(0,s.jsx)("option",{value:"slide",children:"Slide"}),(0,s.jsx)("option",{value:"zoom",children:"Zoom"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Background"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,s.jsx)("div",{className:"h-8 rounded bg-blue-500 cursor-pointer"}),(0,s.jsx)("div",{className:"h-8 rounded bg-purple-500 cursor-pointer"}),(0,s.jsx)("div",{className:"h-8 rounded bg-pink-500 cursor-pointer"}),(0,s.jsx)("div",{className:"h-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 cursor-pointer"})]})]})]})]})]})})]}):null}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),l=a(12115),r=a(64269);let i=l.forwardRef((e,t)=>{let{className:a,type:l,...i}=e;return(0,s.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},65380:(e,t,a)=>{"use strict";a.d(t,{As:()=>d,AuthProvider:()=>c,YK:()=>u});var s=a(95155),l=a(12115),r=a(90960);let i=null,n=null;try{let e=a(5259);i=e.useUser,n=e.useAuth}catch(e){}let o=(0,l.createContext)(void 0);function c(e){let{children:t}=e,a=i?i():{user:null,isLoaded:!0},c=n?n():{isSignedIn:!1,signOut:async()=>{},getToken:async()=>null},{user:d,isLoaded:u}=a,{isSignedIn:m,signOut:x,getToken:h}=c,[p,f]=(0,l.useState)(null),[g,b]=(0,l.useState)([]),[j,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{h&&(0,r.JF)(h)},[h]),(0,l.useEffect)(()=>{if(d){var e;f({id:d.id,email:(null==(e=d.primaryEmailAddress)?void 0:e.emailAddress)||"",name:d.fullName||d.firstName||"User",avatar:d.imageUrl,credits:1e3,plan:"free"})}else f(null)},[d]);let w=async()=>{var e,t,a;if(!m)return void b([]);v(!0),y(null);try{let t=(null==(e=(await r.Yg.list()).data)?void 0:e.map(e=>({id:e.id,title:e.name,description:e.description,status:e.status||"draft",duration:e.duration||0,createdAt:e.created_at,updatedAt:e.updated_at,userId:e.user_id})))||[];b(t)}catch(e){console.error("Failed to fetch projects:",e),y((null==(a=e.response)||null==(t=a.data)?void 0:t.error)||"Failed to load projects")}finally{v(!1)}};(0,l.useEffect)(()=>{m?w():b([])},[m]);let k=async()=>{x&&await x(),f(null),b([])};return(0,s.jsx)(o.Provider,{value:{user:d,isLoaded:u,isSignedIn:m||!1,userData:p,projects:g,projectsLoading:j,projectsError:N,refreshProjects:w,signOut:k},children:t})}function d(){let e=(0,l.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(){let{projects:e,projectsLoading:t,projectsError:a,refreshProjects:s}=d();return{projects:e,projectsLoading:t,projectsError:a,refreshProjects:s}}},90960:(e,t,a)=>{"use strict";a.d(t,{JF:()=>r,JK:()=>n,Yg:()=>i,mG:()=>o});let s=a(95125).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:3e4}),l=null;function r(e){l=e}s.interceptors.request.use(async e=>{if(l)try{let t=await l();t&&(e.headers.Authorization="Bearer ".concat(t))}catch(e){console.error("Failed to get auth token:",e)}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(window.location.href="/auth?mode=login"),Promise.reject(e)});let i={list:async()=>(await s.get("/timelines")).data,get:async e=>(await s.get("/timelines/".concat(e))).data,create:async e=>(await s.post("/timelines",e)).data,update:async(e,t)=>(await s.put("/timelines/".concat(e),t)).data,delete:async e=>{await s.delete("/timelines/".concat(e))}},n={list:async e=>(await s.get("/timelines/".concat(e,"/clips"))).data,get:async e=>(await s.get("/clips/".concat(e))).data,create:async(e,t)=>(await s.post("/timelines/".concat(e,"/clips"),t)).data,update:async(e,t)=>(await s.put("/clips/".concat(e),t)).data,delete:async e=>{await s.delete("/clips/".concat(e))}},o={list:async e=>(await s.get("/timelines/".concat(e,"/tracks"))).data,create:async(e,t)=>(await s.post("/timelines/".concat(e,"/tracks"),t)).data,update:async(e,t)=>(await s.put("/tracks/".concat(e),t)).data,delete:async e=>{await s.delete("/tracks/".concat(e))},reorder:async(e,t)=>(await s.patch("/tracks/".concat(e,"/reorder"),{order:t})).data,toggleMute:async e=>(await s.patch("/tracks/".concat(e,"/mute"))).data,toggleSolo:async e=>(await s.patch("/tracks/".concat(e,"/solo"))).data}},93724:(e,t,a)=>{Promise.resolve().then(a.bind(a,31373))}},e=>{e.O(0,[589,259,822,125,102,444,441,255,358],()=>e(e.s=93724)),_N_E=e.O()}]);