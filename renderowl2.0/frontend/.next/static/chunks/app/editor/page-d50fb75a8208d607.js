(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{3724:(e,s,r)=>{Promise.resolve().then(r.bind(r,7587))},5142:(e,s,r)=>{"use strict";r.d(s,{p:()=>d});var t=r(5155),a=r(2115),l=r(4269);let d=a.forwardRef((e,s)=>{let{className:r,type:a,...d}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...d})});d.displayName="Input"},5299:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7587:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var t=r(5155),a=r(2115),l=r(7682),d=r(2619),i=r.n(d),n=r(63),c=r(3998),o=r(5142),m=r(960),x=r(5380),u=r(5299),h=r(1847);let p=(0,h.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),b=(0,h.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function f(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)(),{isSignedIn:r,isLoaded:d}=(0,x.As)(),h=s.get("template"),f=s.get("id"),[j,g]=(0,a.useState)("Untitled Project"),[N,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)(""),[k,C]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d&&!r&&e.push("/auth?mode=login")},[d,r,e]),(0,a.useEffect)(()=>{f?(async()=>{try{let e=await m.Yg.get(f);g(e.name||"Untitled Project")}catch(e){console.error("Failed to load project:",e),w("Failed to load project")}finally{C(!1)}})():(C(!1),h&&g({1:"YouTube Intro Project",2:"TikTok Viral Project",3:"Product Ad Project"}[h]||"New Project"))},[f,h]);let A=async()=>{v(!0),w("Saving...");try{if(f)await m.Yg.update(f,{name:j}),w("Saved!");else{let s=await m.Yg.create({name:j,description:h?"Created from template ".concat(h):"",duration:30});w("Created!"),e.push("/editor?id=".concat(s.id))}}catch(e){var s,r;console.error("Failed to save project:",e),w((null==(r=e.response)||null==(s=r.data)?void 0:s.error)||"Failed to save")}finally{v(!1),setTimeout(()=>w(""),3e3)}};return!d||k?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):r?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(n.Navbar,{}),(0,t.jsx)("main",{className:"flex-1 pt-16",children:(0,t.jsxs)("div",{className:"h-[calc(100vh-4rem)] flex",children:[(0,t.jsxs)("div",{className:"w-64 border-r bg-muted/50 flex flex-col",children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsxs)(i(),{href:"/dashboard",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(p,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Assets"})}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83D\uDDBC️ Images"}),(0,t.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFB5 Audio"}),(0,t.jsx)("div",{className:"h-20 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center cursor-pointer hover:ring-2 ring-blue-500",children:"\uD83C\uDFAC Video"})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(o.p,{value:j,onChange:e=>g(e.target.value),className:"w-64 font-semibold",placeholder:"Project Name"}),y&&(0,t.jsx)("span",{className:"text-sm ".concat(y.includes("Failed")?"text-red-500":"text-green-500"),children:y})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:A,disabled:N,children:[N?(0,t.jsx)(u.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(b,{className:"h-4 w-4 mr-2"}),f?"Save":"Create"]}),(0,t.jsx)("button",{className:"px-3 py-1.5 text-sm border rounded hover:bg-muted",children:"Preview"}),(0,t.jsx)("button",{className:"px-3 py-1.5 text-sm bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded",children:"Export"})]})]}),(0,t.jsx)("div",{className:"flex-1 bg-slate-950 flex items-center justify-center p-8",children:(0,t.jsx)("div",{className:"aspect-video w-full max-w-4xl bg-gradient-to-br from-slate-800 to-slate-900 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFAC"}),(0,t.jsx)("p",{className:"text-white/60",children:"Editor Canvas"}),(0,t.jsxs)("p",{className:"text-white/40 text-sm mt-2",children:["Template: ",h||"None"]}),f&&(0,t.jsxs)("p",{className:"text-white/40 text-sm",children:["Editing: ",f]})]})})}),(0,t.jsxs)("div",{className:"h-48 border-t bg-muted/50",children:[(0,t.jsxs)("div",{className:"h-10 border-b flex items-center px-4 gap-2",children:[(0,t.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"⏮️"}),(0,t.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"▶️"}),(0,t.jsx)("button",{className:"p-1.5 hover:bg-muted rounded",children:"⏭️"}),(0,t.jsx)("div",{className:"h-4 w-px bg-border mx-2"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"00:00 / 00:30"})]}),(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Video"}),(0,t.jsx)("div",{className:"flex-1 h-8 bg-blue-600/20 rounded border border-blue-600/40"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Audio"}),(0,t.jsx)("div",{className:"flex-1 h-8 bg-purple-600/20 rounded border border-purple-600/40"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs w-16 text-muted-foreground",children:"Text"}),(0,t.jsx)("div",{className:"flex-1 h-8 bg-green-600/20 rounded border border-green-600/40"})]})]})]})]}),(0,t.jsxs)("div",{className:"w-72 border-l bg-muted/50",children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsx)("h3",{className:"font-semibold",children:"Properties"})}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Scene Duration"}),(0,t.jsx)("input",{type:"range",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Transition"}),(0,t.jsxs)("select",{className:"w-full p-2 rounded border text-sm",children:[(0,t.jsx)("option",{children:"Fade"}),(0,t.jsx)("option",{children:"Slide"}),(0,t.jsx)("option",{children:"Zoom"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Background"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,t.jsx)("div",{className:"h-8 rounded bg-blue-500 cursor-pointer"}),(0,t.jsx)("div",{className:"h-8 rounded bg-purple-500 cursor-pointer"}),(0,t.jsx)("div",{className:"h-8 rounded bg-pink-500 cursor-pointer"}),(0,t.jsx)("div",{className:"h-8 rounded bg-gradient-to-r from-blue-500 to-purple-500 cursor-pointer"})]})]})]})]})]})})]}):null}}},e=>{e.O(0,[236,822,444,441,255,358],()=>e(e.s=3724)),_N_E=e.O()}]);