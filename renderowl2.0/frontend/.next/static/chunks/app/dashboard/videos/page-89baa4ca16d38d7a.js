(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[618],{13406:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var a=t(95155),i=t(12115),l=t(31109),r=t(64269);let n=l.bL,d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.B8,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...i})});d.displayName=l.B8.displayName;let c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...i})});c.displayName=l.l9.displayName;let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...i})});o.displayName=l.UC.displayName},30480:(e,s,t)=>{"use strict";t.d(s,{Sidebar:()=>A});var a=t(95155),i=t(52619),l=t.n(i),r=t(20063),n=t(59384),d=t(27209),c=t(26667),o=t(78519),m=t(15870),u=t(80021),h=t(27937),x=t(90368),f=t(12115),p=t(64269),j=t(3998),g=t(28599);let N=g.Kq,b=g.bL,v=g.l9,w=f.forwardRef((e,s)=>{let{className:t,sideOffset:i=4,...l}=e;return(0,a.jsx)(g.UC,{ref:s,sideOffset:i,className:(0,p.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});w.displayName=g.UC.displayName;let y=[{name:"Dashboard",href:"/dashboard",icon:n.A},{name:"My Videos",href:"/dashboard/videos",icon:d.A},{name:"Templates",href:"/templates",icon:c.A},{name:"Billing",href:"/dashboard/billing",icon:o.A},{name:"Settings",href:"/dashboard/settings",icon:m.A},{name:"Help",href:"/help",icon:u.A}];function A(e){let{className:s}=e,t=(0,r.usePathname)(),[i,n]=(0,f.useState)(!1);return(0,a.jsx)(N,{delayDuration:0,children:(0,a.jsx)("aside",{className:(0,p.cn)("fixed left-0 top-16 z-40 h-[calc(100vh-4rem)] border-r bg-background transition-all duration-300",i?"w-16":"w-64",s),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex justify-end p-2",children:(0,a.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>n(!i),className:"h-8 w-8",children:i?(0,a.jsx)(h.A,{className:"h-4 w-4"}):(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 px-2",children:y.map(e=>{let s=t===e.href||(null==t?void 0:t.startsWith("".concat(e.href,"/"))),r=e.icon;return(0,a.jsxs)(b,{delayDuration:0,children:[(0,a.jsx)(v,{asChild:!0,children:(0,a.jsxs)(l(),{href:e.href,className:(0,p.cn)("flex items-center gap-3 rounded-lg px-3 py-2 transition-all",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground",i&&"justify-center px-2"),children:[(0,a.jsx)(r,{className:"h-5 w-5 shrink-0"}),!i&&(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name})]})}),i&&(0,a.jsx)(w,{side:"right",className:"flex items-center gap-4",children:e.name})]},e.name)})}),!i&&(0,a.jsx)("div",{className:"border-t p-4",children:(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-3",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Credits Remaining"}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"850"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"/ 1,000"})]}),(0,a.jsx)("div",{className:"mt-2 h-2 w-full rounded-full bg-secondary",children:(0,a.jsx)("div",{className:"h-full w-[85%] rounded-full bg-gradient-to-r from-blue-600 to-purple-600"})}),(0,a.jsx)(j.$,{variant:"link",size:"sm",className:"mt-2 h-auto p-0 text-xs",children:"Upgrade Plan"})]})})]})})})}},40098:(e,s,t)=>{"use strict";t.d(s,{VideosList:()=>k});var a=t(95155),i=t(12115),l=t(52619),r=t.n(l),n=t(35299),d=t(86651),c=t(15530),o=t(80003),m=t(6191),u=t(85921),h=t(11010),x=t(20017),f=t(75426),p=t(39867),j=t(71360),g=t(3998),N=t(65142),b=t(13406),v=t(6259),w=t(65380),y=t(90960);let A=[{id:"all",label:"All Videos"},{id:"completed",label:"Completed"},{id:"processing",label:"Processing"},{id:"draft",label:"Drafts"}];function C(e){let{status:s}=e,t={completed:"bg-green-100 text-green-700",processing:"bg-blue-100 text-blue-700",draft:"bg-gray-100 text-gray-700",failed:"bg-red-100 text-red-700"};return(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t[s]||t.draft),children:s.charAt(0).toUpperCase()+s.slice(1)})}function k(){let[e,s]=(0,i.useState)("grid"),[t,l]=(0,i.useState)("all"),[k,D]=(0,i.useState)(""),{projects:S,projectsLoading:z,projectsError:_,refreshProjects:$}=(0,w.YK)(),P=S.filter(e=>{let s="all"===t||e.status===t,a=e.title.toLowerCase().includes(k.toLowerCase());return s&&a}),U=async e=>{try{await y.Yg.delete(e),await $()}catch(e){console.error("Failed to delete project:",e)}};return z?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(n.A,{className:"h-8 w-8 animate-spin text-blue-600"})}):_?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[(0,a.jsx)("p",{className:"text-red-600",children:_}),(0,a.jsx)(g.$,{onClick:$,children:"Retry"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative w-full md:w-96",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(N.p,{placeholder:"Search videos...",className:"pl-10",value:k,onChange:e=>D(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(b.tU,{value:t,onValueChange:l,children:(0,a.jsx)(b.j7,{children:A.map(e=>(0,a.jsx)(b.Xi,{value:e.id,children:e.label},e.id))})}),(0,a.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,a.jsx)(g.$,{variant:"grid"===e?"secondary":"ghost",size:"icon",onClick:()=>s("grid"),children:(0,a.jsx)(c.A,{className:"h-4 w-4"})}),(0,a.jsx)(g.$,{variant:"list"===e?"secondary":"ghost",size:"icon",onClick:()=>s("list"),children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(g.$,{className:"bg-gradient-to-r from-blue-600 to-purple-600",asChild:!0,children:(0,a.jsxs)(r(),{href:"/editor",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"New Video"]})})]})]}),"grid"===e?(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(e=>(0,a.jsxs)("div",{className:"group rounded-xl border bg-white overflow-hidden hover:shadow-lg transition-all",children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFAC"}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,a.jsx)(g.$,{size:"sm",variant:"secondary",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(g.$,{size:"sm",variant:"secondary",asChild:!0,children:(0,a.jsx)(r(),{href:"/editor?id=".concat(e.id),children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold truncate",children:e.title}),(0,a.jsxs)(v.rI,{children:[(0,a.jsx)(v.ty,{asChild:!0,children:(0,a.jsx)(g.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(v.SQ,{align:"end",children:[(0,a.jsxs)(v._2,{children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Duplicate"]}),(0,a.jsxs)(v._2,{children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Download"]}),(0,a.jsx)(v.mB,{}),(0,a.jsxs)(v._2,{className:"text-red-600",onClick:()=>U(e.id),children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(C,{status:e.status}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{children:[e.duration,"s"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))}):(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-muted",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"Video"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"Duration"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"Created"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:P.map(e=>(0,a.jsxs)("tr",{className:"border-t hover:bg-muted/50",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-16 rounded bg-gradient-to-br from-blue-600/20 to-purple-600/20 flex items-center justify-center",children:"\uD83C\uDFAC"}),(0,a.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)(C,{status:e.status})}),(0,a.jsxs)("td",{className:"p-4",children:[e.duration,"s"]}),(0,a.jsx)("td",{className:"p-4",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(g.$,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:(0,a.jsx)(r(),{href:"/editor?id=".concat(e.id),children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(v.rI,{children:[(0,a.jsx)(v.ty,{asChild:!0,children:(0,a.jsx)(g.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(v.SQ,{align:"end",children:[(0,a.jsxs)(v._2,{children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Duplicate"]}),(0,a.jsxs)(v._2,{children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"})," Download"]}),(0,a.jsx)(v.mB,{}),(0,a.jsxs)(v._2,{className:"text-red-600",onClick:()=>U(e.id),children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})})]},e.id))})]})}),0===P.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFAC"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No videos found"}),(0,a.jsx)(g.$,{className:"mt-4 bg-gradient-to-r from-blue-600 to-purple-600",asChild:!0,children:(0,a.jsxs)(r(),{href:"/editor",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Create Your First Video"]})})]})]})}},52353:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,52619,23)),Promise.resolve().then(t.bind(t,40098)),Promise.resolve().then(t.bind(t,12444)),Promise.resolve().then(t.bind(t,30480))},65142:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(95155),i=t(12115),l=t(64269);let r=i.forwardRef((e,s)=>{let{className:t,type:i,...r}=e;return(0,a.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});r.displayName="Input"},65380:(e,s,t)=>{"use strict";t.d(s,{As:()=>o,AuthProvider:()=>c,YK:()=>m});var a=t(95155),i=t(12115),l=t(90960);let r=null,n=null;try{let e=t(5259);r=e.useUser,n=e.useAuth}catch(e){}let d=(0,i.createContext)(void 0);function c(e){let{children:s}=e,t=r?r():{user:null,isLoaded:!0},c=n?n():{isSignedIn:!1,signOut:async()=>{},getToken:async()=>null},{user:o,isLoaded:m}=t,{isSignedIn:u,signOut:h,getToken:x}=c,[f,p]=(0,i.useState)(null),[j,g]=(0,i.useState)([]),[N,b]=(0,i.useState)(!1),[v,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{x&&(0,l.JF)(x)},[x]),(0,i.useEffect)(()=>{if(o){var e;p({id:o.id,email:(null==(e=o.primaryEmailAddress)?void 0:e.emailAddress)||"",name:o.fullName||o.firstName||"User",avatar:o.imageUrl,credits:1e3,plan:"free"})}else p(null)},[o]);let y=async()=>{var e,s,t;if(!u)return void g([]);b(!0),w(null);try{let s=(null==(e=(await l.Yg.list()).data)?void 0:e.map(e=>({id:e.id,title:e.name,description:e.description,status:e.status||"draft",duration:e.duration||0,createdAt:e.created_at,updatedAt:e.updated_at,userId:e.user_id})))||[];g(s)}catch(e){console.error("Failed to fetch projects:",e),w((null==(t=e.response)||null==(s=t.data)?void 0:s.error)||"Failed to load projects")}finally{b(!1)}};(0,i.useEffect)(()=>{u?y():g([])},[u]);let A=async()=>{h&&await h(),p(null),g([])};return(0,a.jsx)(d.Provider,{value:{user:o,isLoaded:m,isSignedIn:u||!1,userData:f,projects:j,projectsLoading:N,projectsError:v,refreshProjects:y,signOut:A},children:s})}function o(){let e=(0,i.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function m(){let{projects:e,projectsLoading:s,projectsError:t,refreshProjects:a}=o();return{projects:e,projectsLoading:s,projectsError:t,refreshProjects:a}}},90960:(e,s,t)=>{"use strict";t.d(s,{JF:()=>l,JK:()=>n,Yg:()=>r,mG:()=>d});let a=t(95125).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:3e4}),i=null;function l(e){i=e}a.interceptors.request.use(async e=>{if(i)try{let s=await i();s&&(e.headers.Authorization="Bearer ".concat(s))}catch(e){console.error("Failed to get auth token:",e)}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,async e=>{var s;return(null==(s=e.response)?void 0:s.status)===401&&(window.location.href="/auth?mode=login"),Promise.reject(e)});let r={list:async()=>(await a.get("/timelines")).data,get:async e=>(await a.get("/timelines/".concat(e))).data,create:async e=>(await a.post("/timelines",e)).data,update:async(e,s)=>(await a.put("/timelines/".concat(e),s)).data,delete:async e=>{await a.delete("/timelines/".concat(e))}},n={list:async e=>(await a.get("/timelines/".concat(e,"/clips"))).data,get:async e=>(await a.get("/clips/".concat(e))).data,create:async(e,s)=>(await a.post("/timelines/".concat(e,"/clips"),s)).data,update:async(e,s)=>(await a.put("/clips/".concat(e),s)).data,delete:async e=>{await a.delete("/clips/".concat(e))}},d={list:async e=>(await a.get("/timelines/".concat(e,"/tracks"))).data,create:async(e,s)=>(await a.post("/timelines/".concat(e,"/tracks"),s)).data,update:async(e,s)=>(await a.put("/tracks/".concat(e),s)).data,delete:async e=>{await a.delete("/tracks/".concat(e))},reorder:async(e,s)=>(await a.patch("/tracks/".concat(e,"/reorder"),{order:s})).data,toggleMute:async e=>(await a.patch("/tracks/".concat(e,"/mute"))).data,toggleSolo:async e=>(await a.patch("/tracks/".concat(e,"/solo"))).data}}},e=>{e.O(0,[259,822,125,496,461,444,441,255,358],()=>e(e.s=52353)),_N_E=e.O()}]);