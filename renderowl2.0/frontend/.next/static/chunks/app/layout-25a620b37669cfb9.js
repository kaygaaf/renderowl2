(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{57:(e,t,a)=>{"use strict";a.d(t,{ClerkProviderWrapper:()=>c,SignInWrapper:()=>l,SignUpWrapper:()=>o});var n=a(95155);let s="pk_test_aW52YWxpZC5jbGVyay5hY2NvdW50cy5kZXYk",r=s.startsWith("pk_")&&!s.includes("placeholder")&&s.length>20,i=null;if(r)try{i=a(5259)}catch(e){console.warn("Clerk not available")}function c(e){let{children:t}=e;if(!r||!i)return(0,n.jsx)(n.Fragment,{children:t});let{ClerkProvider:a}=i;return(0,n.jsx)(a,{children:t})}function l(e){return i?(0,n.jsx)(i.SignIn,{...e}):(0,n.jsx)("div",{className:"p-8 text-center",children:"Sign in is not configured"})}function o(e){return i?(0,n.jsx)(i.SignUp,{...e}):(0,n.jsx)("div",{className:"p-8 text-center",children:"Sign up is not configured"})}},13673:()=>{},28963:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}},65380:(e,t,a)=>{"use strict";a.d(t,{As:()=>d,AuthProvider:()=>o,YK:()=>u});var n=a(95155),s=a(12115),r=a(90960);let i=null,c=null;try{let e=a(5259);i=e.useUser,c=e.useAuth}catch(e){}let l=(0,s.createContext)(void 0);function o(e){let{children:t}=e,a=i?i():{user:null,isLoaded:!0},o=c?c():{isSignedIn:!1,signOut:async()=>{},getToken:async()=>null},{user:d,isLoaded:u}=a,{isSignedIn:p,signOut:h,getToken:m}=o,[y,f]=(0,s.useState)(null),[g,w]=(0,s.useState)([]),[v,k]=(0,s.useState)(!1),[_,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{m&&(0,r.JF)(m)},[m]),(0,s.useEffect)(()=>{if(d){var e;f({id:d.id,email:(null==(e=d.primaryEmailAddress)?void 0:e.emailAddress)||"",name:d.fullName||d.firstName||"User",avatar:d.imageUrl,credits:1e3,plan:"free"})}else f(null)},[d]);let j=async()=>{var e,t,a;if(!p)return void w([]);k(!0),S(null);try{let t=(null==(e=(await r.Yg.list()).data)?void 0:e.map(e=>({id:e.id,title:e.name,description:e.description,status:e.status||"draft",duration:e.duration||0,createdAt:e.created_at,updatedAt:e.updated_at,userId:e.user_id})))||[];w(t)}catch(e){console.error("Failed to fetch projects:",e),S((null==(a=e.response)||null==(t=a.data)?void 0:t.error)||"Failed to load projects")}finally{k(!1)}};(0,s.useEffect)(()=>{p?j():w([])},[p]);let x=async()=>{h&&await h(),f(null),w([])};return(0,n.jsx)(l.Provider,{value:{user:d,isLoaded:u,isSignedIn:p||!1,userData:y,projects:g,projectsLoading:v,projectsError:_,refreshProjects:j,signOut:x},children:t})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(){let{projects:e,projectsLoading:t,projectsError:a,refreshProjects:n}=d();return{projects:e,projectsLoading:t,projectsError:a,refreshProjects:n}}},78214:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,28963,23)),Promise.resolve().then(a.t.bind(a,13673,23)),Promise.resolve().then(a.bind(a,57)),Promise.resolve().then(a.bind(a,65380))},90960:(e,t,a)=>{"use strict";a.d(t,{JF:()=>r,JK:()=>c,Yg:()=>i,mG:()=>l});let n=a(95125).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:3e4}),s=null;function r(e){s=e}n.interceptors.request.use(async e=>{if(s)try{let t=await s();t&&(e.headers.Authorization="Bearer ".concat(t))}catch(e){console.error("Failed to get auth token:",e)}return e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(window.location.href="/auth?mode=login"),Promise.reject(e)});let i={list:async()=>(await n.get("/timelines")).data,get:async e=>(await n.get("/timelines/".concat(e))).data,create:async e=>(await n.post("/timelines",e)).data,update:async(e,t)=>(await n.put("/timelines/".concat(e),t)).data,delete:async e=>{await n.delete("/timelines/".concat(e))}},c={list:async e=>(await n.get("/timelines/".concat(e,"/clips"))).data,get:async e=>(await n.get("/clips/".concat(e))).data,create:async(e,t)=>(await n.post("/timelines/".concat(e,"/clips"),t)).data,update:async(e,t)=>(await n.put("/clips/".concat(e),t)).data,delete:async e=>{await n.delete("/clips/".concat(e))}},l={list:async e=>(await n.get("/timelines/".concat(e,"/tracks"))).data,create:async(e,t)=>(await n.post("/timelines/".concat(e,"/tracks"),t)).data,update:async(e,t)=>(await n.put("/tracks/".concat(e),t)).data,delete:async e=>{await n.delete("/tracks/".concat(e))},reorder:async(e,t)=>(await n.patch("/tracks/".concat(e,"/reorder"),{order:t})).data,toggleMute:async e=>(await n.patch("/tracks/".concat(e,"/mute"))).data,toggleSolo:async e=>(await n.patch("/tracks/".concat(e,"/solo"))).data}}},e=>{e.O(0,[300,259,125,441,255,358],()=>e(e.s=78214)),_N_E=e.O()}]);