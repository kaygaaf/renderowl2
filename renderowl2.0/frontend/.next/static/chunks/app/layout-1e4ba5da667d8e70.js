(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{57:(e,t,n)=>{"use strict";n.d(t,{ClerkProviderWrapper:()=>l,SignInWrapper:()=>o,SignUpWrapper:()=>u});var r=n(95155);let a="pk_test_aW52YWxpZC5jbGVyay5hY2NvdW50cy5kZXYk",s=a.startsWith("pk_")&&!a.includes("placeholder")&&a.length>20,i=null;if(s)try{i=n(5259)}catch(e){console.warn("Clerk not available")}function l(e){let{children:t}=e;if(!s||!i)return(0,r.jsx)(r.Fragment,{children:t});let{ClerkProvider:n}=i;return(0,r.jsx)(n,{children:t})}function o(e){return i?(0,r.jsx)(i.SignIn,{...e}):(0,r.jsx)("div",{className:"p-8 text-center",children:"Sign in is not configured"})}function u(e){return i?(0,r.jsx)(i.SignUp,{...e}):(0,r.jsx)("div",{className:"p-8 text-center",children:"Sign up is not configured"})}},13673:()=>{},28963:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}},65380:(e,t,n)=>{"use strict";n.d(t,{As:()=>c,AuthProvider:()=>u,YK:()=>d});var r=n(95155),a=n(12115),s=n(90960);let i=null,l=null;try{let e=n(5259);i=e.useUser,l=e.useAuth}catch(e){}let o=(0,a.createContext)(void 0);function u(e){let{children:t}=e,n=i?i():{user:null,isLoaded:!0},u=l?l():{isSignedIn:!1,signOut:async()=>{},getToken:async()=>null},{user:c,isLoaded:d}=n,{isSignedIn:p,signOut:h,getToken:f}=u,[m,v]=(0,a.useState)(null),[g,y]=(0,a.useState)([]),[w,_]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{f&&(0,s.JF)(f)},[f]),(0,a.useEffect)(()=>{if(c){var e;v({id:c.id,email:(null==(e=c.primaryEmailAddress)?void 0:e.emailAddress)||"",name:c.fullName||c.firstName||"User",avatar:c.imageUrl,credits:1e3,plan:"free"})}else v(null)},[c]);let x=async()=>{var e,t,n;if(!p)return void y([]);_(!0),k(null);try{let t=(null==(e=(await s.Yg.list()).data)?void 0:e.map(e=>({id:e.id,title:e.name,description:e.description,status:e.status||"draft",duration:e.duration||0,createdAt:e.created_at,updatedAt:e.updated_at,userId:e.user_id})))||[];y(t)}catch(e){console.error("Failed to fetch projects:",e),k((null==(n=e.response)||null==(t=n.data)?void 0:t.error)||"Failed to load projects")}finally{_(!1)}};(0,a.useEffect)(()=>{p?x():y([])},[p]);let S=async()=>{h&&await h(),v(null),y([])};return(0,r.jsx)(o.Provider,{value:{user:c,isLoaded:d,isSignedIn:p||!1,userData:m,projects:g,projectsLoading:w,projectsError:j,refreshProjects:x,signOut:S},children:t})}function c(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(){let{projects:e,projectsLoading:t,projectsError:n,refreshProjects:r}=c();return{projects:e,projectsLoading:t,projectsError:n,refreshProjects:r}}},78214:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,28963,23)),Promise.resolve().then(n.t.bind(n,13673,23)),Promise.resolve().then(n.bind(n,57)),Promise.resolve().then(n.bind(n,65380))},90960:(e,t,n)=>{"use strict";n.d(t,{JF:()=>s,Yg:()=>i});let r=n(95125).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:3e4}),a=null;function s(e){a=e}r.interceptors.request.use(async e=>{if(a)try{let t=await a();t&&(e.headers.Authorization="Bearer ".concat(t))}catch(e){console.error("Failed to get auth token:",e)}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(window.location.href="/auth?mode=login"),Promise.reject(e)});let i={list:async()=>(await r.get("/timelines")).data,get:async e=>(await r.get("/timelines/".concat(e))).data,create:async e=>(await r.post("/timelines",e)).data,update:async(e,t)=>(await r.put("/timelines/".concat(e),t)).data,delete:async e=>{await r.delete("/timelines/".concat(e))}}}},e=>{e.O(0,[300,259,125,441,255,358],()=>e(e.s=78214)),_N_E=e.O()}]);